// the first of the pair is the number of nodes on the diemeter

pair<int, int> get_diameter(int node, int par = -1) { 
    int d = 0, mx[3] = {};
    for (auto child : adj2[node]) {
        if (child == par) continue;
        auto p = get_diameter(child, node);
        mx[0] = p.second;
        sort(mx, mx + 3);
        d = max(d, p.first);
    }
    return {max(d, mx[2] + mx[1] + 1), mx[2] + 1};
}