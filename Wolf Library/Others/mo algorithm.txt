#include <bits/stdc++.h>

using namespace std;

const int N = 3e4 + 5, M = 2e5 + 5; // check
int n, q;
int arr[N], st[M], en[M], ind[M];

int ans[M]; // check

void add(int value) {
    ...
}

void remove(int value) {
    ...
}

void mo() {
    int bsz = sqrt(n+1);
    sort(ind, ind + q, [bsz](int i, int j) {
        int ibid = st[i] / bsz, jbid = st[j] / bsz;
        return tie(ibid, en[i]) < tie(jbid, en[j]);
    });

    int s = 0, e = -1;
    for (int j = 0; j < q; j++) {
        int i = ind[j];
        
        while (e < en[i])
            add(++e);
        while (s < st[i])
            remove(s++);
        while (s > st[i])
            add(--s);
        while (e > en[i])
            remove(e--);
        
        ans[i] = ....;
    }
}

int main() {
    scanf("%d", &n);
    for (int i = 0; i < n; i++)
        scanf("%d", arr + i);

    scanf("%d", &q);
    for (int i = 0; i < q; i++) {
        scanf("%d%d", st + i, en + i);
        //st[i]--, en[i]--;  if one based
        ind[i] = i;
    }

    mo();

    for (int i = 0; i < q; i++)
        printf("%d\n", ans[i]);
}